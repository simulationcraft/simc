deathknight="T28_Death_Knight_Blood"
source=default
spec=blood
level=60
race=undead
role=tank
position=front
talents=2231133
covenant=night_fae
soulbind=niya,grove_invigoration/withering_plague:11:1/niyas_tools_burrs/meat_shield:11:1/called_shot/bonded_hearts/withering_ground:11:1/spirit_drain:11:1/hardened_bones:11:1
renown=80

# Default consumables
potion=potion_of_phantom_fire
flask=spectral_flask_of_power
food=feast_of_gluttonous_hedonism
augmentation=veiled
temporary_enchant=main_hand:shadowcore_oil

# This default action priority list is automatically created based on your character.
# It is a attempt to provide you with a action list that is both simple and practicable,
# while resulting in a meaningful and good simulation. It may not result in the absolutely highest possible dps.
# Feel free to edit, adapt and improve it to your own needs.
# SimulationCraft is always looking for updates and improvements to the default action lists.

# Executed before combat begins. Accepts non-harmful actions only.
actions.precombat=flask
actions.precombat+=/food
actions.precombat+=/augmentation
# Snapshot raid buffed stats before combat begins and pre-potting is done.
actions.precombat+=/snapshot_stats
actions.precombat+=/fleshcraft

# Executed every time the actor is available.
actions=auto_attack
# Interrupt
actions+=/mind_freeze,if=target.debuff.casting.react
actions+=/blood_fury,if=cooldown.dancing_rune_weapon.ready&(!cooldown.blooddrinker.ready|!talent.blooddrinker.enabled)
actions+=/berserking
actions+=/arcane_pulse,if=active_enemies>=2|rune<1&runic_power.deficit>60
actions+=/lights_judgment,if=buff.unholy_strength.up
actions+=/ancestral_call
actions+=/fireblood
actions+=/bag_of_tricks
# Since the potion cooldown has changed, we'll sync with DRW
actions+=/potion,if=buff.dancing_rune_weapon.up
actions+=/use_items
actions+=/raise_dead
actions+=/blooddrinker,if=!buff.dancing_rune_weapon.up&(!covenant.night_fae|buff.deaths_due.remains>7)
actions+=/blood_boil,if=charges>=2&(covenant.kyrian|buff.dancing_rune_weapon.up)
actions+=/death_strike,if=fight_remains<3
actions+=/call_action_list,name=covenants
actions+=/call_action_list,name=standard

# Burn RP if we have time between DD refreshes and bonestorm isn't coming off cooldown soon.
actions.covenants=death_strike,if=covenant.night_fae&buff.deaths_due.remains>6&runic_power>70&!(talent.bonestorm.enabled&cooldown.bonestorm.remains<2)
# Make sure we never lose that buff
actions.covenants+=/heart_strike,if=covenant.night_fae&death_and_decay.ticking&((buff.deaths_due.up|buff.dancing_rune_weapon.up)&buff.deaths_due.remains<6)
# And that we always cast DD as high prio when we actually need it
actions.covenants+=/deaths_due,if=!buff.deaths_due.up|buff.deaths_due.remains<4|buff.crimson_scourge.up
# Pool RP for swarming and hold it if drw is about to come off cd.
actions.covenants+=/swarming_mist,if=(cooldown.dancing_rune_weapon.remains>3&covenant.venthyr&runic_power>=(90-(spell_targets.swarming_mist*3)))
# Attempt to sacrifice the ghoul if we predictably will not do much in the near future
actions.covenants+=/sacrificial_pact,if=(!covenant.night_fae|buff.deaths_due.remains>6)&!buff.dancing_rune_weapon.up&(pet.ghoul.remains<10|target.time_to_die<gcd)
# Pre-AL marrow on pull in order to guarantee ossuary during the first DRW
actions.covenants+=/marrowrend,if=covenant.necrolord&buff.bone_shield.stack<=0
# And we cast AL
actions.covenants+=/abomination_limb,if=!buff.dancing_rune_weapon.up
# We just don't cast this during DRW
actions.covenants+=/shackle_the_unworthy,if=cooldown.dancing_rune_weapon.remains<3|!buff.dancing_rune_weapon.up
actions.covenants+=/fleshcraft,if=soulbind.pustule_eruption|soulbind.volatile_solvent&!buff.volatile_solvent_humanoid.up,interrupt_immediate=1,interrupt_global=1,interrupt_if=soulbind.volatile_solvent

# Use blood tap to prevent overcapping charges if we have space for a rune and a GCD to spare to burn it
actions.standard=blood_tap,if=rune<=2&rune.time_to_4>gcd&charges_fractional>=1.8
# Hold DRW if we are venthyr until Swarming Mists is about to come off cd and we have pooled runic power to dump into it
actions.standard+=/dancing_rune_weapon,if=(!talent.blooddrinker.enabled|!cooldown.blooddrinker.ready)&!(covenant.venthyr&cooldown.swarming_mist.ready&runic_power>=(90-(spell_targets.swarming_mist*3)))
actions.standard+=/tombstone,if=buff.bone_shield.stack>=7&rune>=2
actions.standard+=/marrowrend,if=(!covenant.necrolord|buff.abomination_limb.up)&(buff.bone_shield.remains<=rune.time_to_3|buff.bone_shield.remains<=(gcd+cooldown.blooddrinker.ready*talent.blooddrinker.enabled*2)|buff.bone_shield.stack<3)&runic_power.deficit>=20
# Death Strike to prevent overcapping. Don't do this if are venthyr and swarming mist is about to come off cd, or if bonestorm is talented and about to come off cd
actions.standard+=/death_strike,if=runic_power.deficit<=70&!(talent.bonestorm.enabled&cooldown.bonestorm.remains<2)&!(covenant.venthyr&cooldown.swarming_mist.remains<3)
actions.standard+=/marrowrend,if=buff.bone_shield.stack<6&runic_power.deficit>=15&(!covenant.night_fae|buff.deaths_due.remains>5)
actions.standard+=/heart_strike,if=!talent.blooddrinker.enabled&death_and_decay.remains<5&runic_power.deficit<=(15+buff.dancing_rune_weapon.up*5+spell_targets.heart_strike*talent.heartbreaker.enabled*2)
actions.standard+=/blood_boil,if=charges_fractional>=1.8&(buff.hemostasis.stack<=(5-spell_targets.blood_boil)|spell_targets.blood_boil>2)
actions.standard+=/death_and_decay,if=(buff.crimson_scourge.up&talent.relish_in_blood.enabled)&runic_power.deficit>10
actions.standard+=/bonestorm,if=runic_power>=100&(!buff.dancing_rune_weapon.up|(covenant.venthyr&buff.swarming_mist.up))
actions.standard+=/death_strike,if=runic_power.deficit<=(15+buff.dancing_rune_weapon.up*5+spell_targets.heart_strike*talent.heartbreaker.enabled*2)|target.1.time_to_die<10
actions.standard+=/death_and_decay,if=spell_targets.death_and_decay>=3
actions.standard+=/heart_strike,if=buff.dancing_rune_weapon.up|rune.time_to_4<gcd
actions.standard+=/blood_boil,if=buff.dancing_rune_weapon.up
actions.standard+=/blood_tap,if=rune.time_to_3>gcd
actions.standard+=/death_and_decay,if=buff.crimson_scourge.up|talent.rapid_decomposition.enabled|spell_targets.death_and_decay>=2
actions.standard+=/consumption
actions.standard+=/blood_boil,if=charges_fractional>=1.1
actions.standard+=/heart_strike,if=(rune>1&(rune.time_to_3<gcd|buff.bone_shield.stack>7))
actions.standard+=/arcane_torrent,if=runic_power.deficit>20

head=shadowghast_helm,id=171415,bonus_id=6716/8119/6647/6650/1588/6935,gem_id=173129
neck=shadowghast_necklace,id=178927,bonus_id=6716/6953/6647/6650/1808/1588,gem_id=173129
shoulders=shoulderplates_of_the_first_eidolon,id=188867,bonus_id=7187/1505
back=shroud_of_the_sires_chosen,id=189847,bonus_id=7187/1524,enchant=soul_vitality
chest=carapace_of_the_first_eidolon,id=188864,bonus_id=7187/1505,enchant=eternal_stats
wrists=realityshatter_vambraces,id=179354,bonus_id=1592/6646/6935,gem_id=173129
hands=gauntlets_of_the_first_eidolon,id=188863,bonus_id=7187/1505,enchant=eternal_strength
waist=waistguard_of_expurged_anguish,id=178842,bonus_id=1592/6646/6935,gem_id=173129
legs=chausses_of_the_first_eidolon,id=188866,bonus_id=7187/1505
feet=greatboots_of_the_roaming_goliath,id=189832,bonus_id=7187/1524
finger1=entwined_gorger_tendril,id=178848,bonus_id=1592/6646/6935,gem_id=173129,enchant=tenet_of_versatility
finger2=soulwarped_seal_of_menethil,id=189841,bonus_id=7187/1524/6935,gem_id=173129,enchant=tenet_of_versatility
trinket1=faulty_countermeasure,id=137539,bonus_id=1524/1642/6646
trinket2=spare_meat_hook,id=178751,bonus_id=6652/1592/6646
main_hand=gavel_of_the_first_arbiter,id=189862,bonus_id=7187/1524,enchant=rune_of_the_fallen_crusader

# Gear Summary
# gear_ilvl=282.13
# gear_strength=1305
# gear_stamina=2960
# gear_crit_rating=917
# gear_haste_rating=281
# gear_mastery_rating=364
# gear_versatility_rating=689
# gear_armor=1841
# set_bonus=tier28_2pc=1
# set_bonus=tier28_4pc=1
